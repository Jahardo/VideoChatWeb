"use strict";(self.webpackChunkulb=self.webpackChunkulb||[]).push([[380],{5380:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ie});var r,o=t(5893),i=t(1529),c=t(7294),a=t(9894);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}const u=function(e){return c.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",viewBox:"0 0 24 24"},e),r||(r=c.createElement("path",{strokeLinecap:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25z"})))};var l;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(this,arguments)}const d=function(e){return c.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",viewBox:"0 0 24 24"},e),l||(l=c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M12 18.75H4.5a2.25 2.25 0 0 1-2.25-2.25V9m12.841 9.091L16.5 19.5m-1.409-1.409c.407-.407.659-.97.659-1.591v-9a2.25 2.25 0 0 0-2.25-2.25h-9c-.621 0-1.184.252-1.591.659m12.182 12.182L2.909 5.909M1.5 4.5l1.409 1.409"})))};var h,v=t(5998),p=t(7036),m=t(5177),b=function(e){var n,t=e.className,r=(0,v.I0)(),c=(0,v.v9)(p.Jh);return(0,o.jsx)(a.z,{theme:a.U.CLEAR,onClick:function(){r(p.Et.turnCamera())},className:(0,i.m)(m.Z.CameraButton,(n={},n[m.Z.CameraButtonPressed]=!c,n),[t]),children:c?(0,o.jsx)(u,{className:m.Z.iconOn}):(0,o.jsx)(d,{className:m.Z.iconOff})})};function w(){return w=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},w.apply(this,arguments)}const y=function(e){return c.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:14,height:21},e),h||(h=c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 12.5c1.7 0 3-1.3 3-3v-6c0-1.7-1.3-3-3-3s-3 1.3-3 3v6c0 1.7 1.3 3 3 3Zm5.3-3c0 3-2.5 5.1-5.3 5.1s-5.3-2.1-5.3-5.1H0c0 3.4 2.7 6.2 6 6.7v3.3h2v-3.3c3.3-.5 6-3.3 6-6.7h-1.7Z"})))};var O;function g(){return g=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},g.apply(this,arguments)}const j=function(e){return c.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:20,height:21,viewBox:"0 0 18 21"},e),O||(O=c.createElement("g",{fill:"currentColor",fillRule:"evenodd"},c.createElement("path",{d:"M16 9.5h-1.7c0 .7-.2 1.4-.4 2l1.2 1.2c.6-.9.9-2 .9-3.2ZM12 9.7V3.5c0-1.7-1.3-3-3-3s-3 1.3-3 3v.2l6 6ZM1.3 1.5 0 2.8l6 6v.7c0 1.7 1.3 3 3 3 .2 0 .4 0 .7-.1l1.7 1.7c-.7.3-1.5.5-2.3.5-2.8 0-5.3-2.1-5.3-5.1H2c0 3.4 2.7 6.2 6 6.7v3.3h2v-3.3c.9-.1 1.8-.5 2.5-.9l4.2 4.2 1.3-1.3L1.3 1.5Z"}))))};var E=t(3908),x=function(e){var n,t=e.className,r=(0,v.I0)(),c=(0,v.v9)(p.I5);return(0,o.jsx)(a.z,{theme:a.U.CLEAR,onClick:function(){r(p.Et.turnMicro())},className:(0,i.m)(E.Z.MicrophoneButton,(n={},n[E.Z.MicrophoneButtonPressed]=!c,n),[t]),children:c?(0,o.jsx)(y,{className:E.Z.iconOn}):(0,o.jsx)(j,{className:E.Z.iconOff})})},C=(0,t(2177).ZP)("http://localhost:3000",{"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]}),N=t(1072),I=t(8960),S=function(e){var n=e.ClassName,t=(0,c.useState)(),r=t[0],a=t[1],s=(0,c.useState)(!1),u=s[0],l=s[1];return(0,N.$G)(),(0,c.useEffect)((function(){C.on("user-joined",(function(e){a("".concat(e.userName," has joined to room")),l(!0),setTimeout((function(){l(!1)}),5e3)})),C.on("user-disconnected",(function(e){a("".concat(e.userName," has left the room")),l(!0),setTimeout((function(){l(!1)}),5e3)}))}),[]),u?(0,o.jsx)("div",{className:(0,i.m)(I.Z.NotificationCart,{},[n]),children:r}):null},R=t(9445),Z=function(e){var n=e.className,t=(0,c.useState)();return t[0],t[1],(0,o.jsx)("div",{className:(0,i.m)(R.Z.ButtonsPanel,{},[n]),children:(0,o.jsxs)("div",{className:R.Z.content,children:[(0,o.jsx)(b,{className:(0,i.m)(R.Z.btn,{},[R.Z.btnScale])}),(0,o.jsx)(x,{className:(0,i.m)(R.Z.btn,{},[R.Z.btnScale])}),(0,o.jsx)(S,{ClassName:(0,i.m)(R.Z.notify,{},[])})]})})},P=t(5127),M=t(917),k=function(e){var n=e.className,t=e.children;return(0,o.jsx)("div",{className:(0,i.m)(M.Z.SideScroll,{},[n]),children:t})},A=t(9250),D=t(8483),T=(0,c.createContext)({clients:[],provideMediaRef:null,users:{}}),L=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,a)}s((r=r.apply(e,n||[])).next())}))},V=function(e,n){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=n.call(e,c)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},B=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},J=function(e){var n,t=e.children,r=function(e){var n=(0,c.useState)([]),t=n[0],r=n[1],o=(0,c.useRef)(void 0),i=(0,c.useCallback)((function(e,n){o.current=n,r(e)}),[]);return(0,c.useEffect)((function(){o.current&&(o.current(t),o.current=void 0)}),[t]),[t,i]}(),i=r[0],a=r[1],s=(0,A.UO)(),u=(0,v.v9)(p.Jh),l=(0,v.v9)(p.I5),f=(0,c.useCallback)((function(e,n){a((function(n){return n.includes(e)?n:B(B([],n,!0),[e],!1)}),n)}),[i,a]),d=(0,c.useRef)({}),h=(0,c.useRef)(null),m=(0,c.useRef)(((n={})[C.id]=null,n)),b=(0,c.useState)({}),w=b[0],y=b[1];(0,c.useEffect)((function(){C.on("shareUsers",(function(e){y(e)}))}),[]),(0,c.useEffect)((function(){return L(void 0,void 0,void 0,(function(){var e;return V(this,(function(n){switch(n.label){case 0:return e=h,[4,navigator.mediaDevices.getUserMedia({audio:!0,video:{width:1280,height:720}})];case 1:return e.current=n.sent(),f(C.id,(function(){var e=m.current[C.id];e&&(e.volume=0,e.srcObject=h.current)})),[2]}}))})).then((function(){return C.emit("join-room",{roomId:s.id})})).catch((function(e){return console.error("Error getting userMedia:",e)})),function(){h.current.getTracks().forEach((function(e){return e.stop()})),C.emit("LEAVE",{roomId:s.id})}}),[s.id]),(0,c.useEffect)((function(){return C.on("ADD_PEER",(function(e){var n=e.peerID,t=e.createOffer;return L(void 0,void 0,void 0,(function(){var e,r;return V(this,(function(o){switch(o.label){case 0:return n in d.current&&console.log("Already connected to peer ".concat(n)),d.current[n]=new RTCPeerConnection({iceServers:D()}),d.current[n].onicecandidate=function(e){e.candidate&&C.emit("RELAY_ICE",{peerID:n,iceCandidate:e.candidate})},e=0,d.current[n].ontrack=function(t){var r=t.streams[0];2===(e+=1)&&(e=0,f(n,(function(){if(m.current[n])m.current[n].srcObject=r;else var e=!1,t=setInterval((function(){m.current[n]&&(e=!0),e&&clearInterval(t)}),1e3)})))},h.current&&h.current.getTracks().forEach((function(e){d.current[n].addTrack(e,h.current)})),t?[4,d.current[n].createOffer()]:[3,3];case 1:return r=o.sent(),[4,d.current[n].setLocalDescription(r)];case 2:o.sent(),C.emit("RELAY_SDP",{peerID:n,sessionDescription:r}),o.label=3;case 3:return[2]}}))}))})),function(){C.off("ADD_PEER")}}),[]),(0,c.useEffect)((function(){return C.on("SESSION_DESCRIPTION",(function(e){var n,t=e.peerID,r=e.sessionDescription;return L(this,void 0,void 0,(function(){var e;return V(this,(function(o){switch(o.label){case 0:return[4,null===(n=d.current[t])||void 0===n?void 0:n.setRemoteDescription(new RTCSessionDescription(r))];case 1:return o.sent(),"offer"!==r.type?[3,4]:[4,d.current[t].createAnswer()];case 2:return e=o.sent(),[4,d.current[t].setLocalDescription(e)];case 3:o.sent(),C.emit("RELAY_SDP",{peerID:t,sessionDescription:e}),o.label=4;case 4:return[2]}}))}))})),function(){C.off("SESSION_DESCRIPTION")}}),[]),(0,c.useEffect)((function(){return C.on("ICE_CANDIDATE",(function(e){var n,t=e.peerID,r=e.iceCandidate;null===(n=d.current[t])||void 0===n||n.addIceCandidate(new RTCIceCandidate(r))})),function(){C.off("ICE_CANDIDATE")}}),[]),(0,c.useEffect)((function(){return C.on("REMOVE_PEER",(function(e){var n=e.peerID;d.current[n]&&d.current[n].close(),delete d.current[n],delete m.current[n],a((function(e){return e.filter((function(e){return e!==n}))}))})),function(){C.off("REMOVE_PEER")}}),[]),(0,c.useEffect)((function(){h.current&&(u&&(h.current.getTracks().find((function(e){return"video"===e.kind})).enabled=!0,C.emit("CameraButton",{camera:u})),u||(h.current.getTracks().find((function(e){return"video"===e.kind})).enabled=!1,C.emit("CameraButton",{camera:u})))}),[u]),(0,c.useEffect)((function(){h.current&&(l&&(h.current.getTracks().find((function(e){return"audio"===e.kind})).enabled=!0,C.emit("MicroButton",{micro:l})),l||(h.current.getTracks().find((function(e){return"audio"===e.kind})).enabled=!1,C.emit("MicroButton",{micro:l})))}),[l]);var O=(0,c.useCallback)((function(e,n){m.current[e]=n}),[]);return(0,o.jsx)(T.Provider,{value:{clients:i,provideMediaRef:O,users:w},children:t})},G=t(1355),U=function(e){var n,t,r,a,s,u,l,f=e.className,d=e.client,h=(function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}}(e,["className","client"]),(0,N.$G)("room").t,(0,c.useContext)(T)),v=h.provideMediaRef,p=h.users;return(0,o.jsxs)("div",{className:(0,i.m)(G.Z.VideoCart,{},[f]),children:[(0,o.jsx)("video",{className:(0,i.m)("",(n={},n[G.Z.HideVideo]=!(null===(r=p[d])||void 0===r?void 0:r.isCamera),n),[]),ref:function(e){return v(d,e)},width:"100%",height:"100%",autoPlay:!0,playsInline:!0,muted:!p[d].isMicro}),(0,o.jsx)("img",{className:(0,i.m)(G.Z.img,(t={},t[G.Z.HideVideo]=null===(a=p[d])||void 0===a?void 0:a.isCamera,t),[]),src:"data:image/png;base64,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"}),(0,o.jsx)("div",{className:G.Z.microIcon,children:(null===(s=p[d])||void 0===s?void 0:s.isMicro)?(0,o.jsx)(y,{}):(0,o.jsx)(j,{})}),(0,o.jsx)("div",{className:G.Z.name,children:d===C.id?(0,o.jsxs)("div",{children:["you -",null===(u=p[d])||void 0===u?void 0:u.userName]}):(0,o.jsx)("div",{children:null===(l=p[d])||void 0===l?void 0:l.userName})})]})};const F=function(e){var n=e.className,t=(0,c.useContext)(T),r=t.clients,a=(t.provideMediaRef,(0,c.useState)(!1)),s=a[0];return a[1],s?(0,o.jsxs)("div",{className:P.Z.Panel,children:[(0,o.jsx)("div",{className:P.Z.mainPanel,children:r[1]?(0,o.jsx)(U,{className:P.Z.mainHeight},1):(0,o.jsx)("div",{})}),(0,o.jsx)(k,{className:P.Z.SideScroll,children:r.filter((function(e){return 1!==e})).map((function(e){return(0,o.jsx)("div",{children:(0,o.jsx)(U,{})},e)}))})]}):(0,o.jsx)("div",{className:(0,i.m)(P.Z.grid,{},[n]),children:r.map((function(e){return(0,o.jsx)("div",{children:(0,o.jsx)(U,{client:e},e)})}))})};var H,Y=function(){return e=void 0,n=void 0,r=function(){var e,n;return function(e,n){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=n.call(e,c)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(t){switch(t.label){case 0:return e=(0,c.useRef)(null),n=e,[4,navigator.mediaDevices.getUserMedia({audio:!0,video:{width:1280,height:720}})];case 1:return n.current=t.sent(),[2,{localMediaStream:e}]}}))},new((t=void 0)||(t=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,a)}s((r=r.apply(e,n||[])).next())}));var e,n,t,r},Q=t(4289),X=function(){return X=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},X.apply(this,arguments)},W=function(e){var n=e.className,t=(e.muted,function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["className","muted"])),r=Y(),a=(0,c.useRef)(null);return(0,c.useContext)(T).provideMediaRef,(0,c.useEffect)((function(){var e,n,t,o;e=void 0,n=void 0,o=function(){var e;return function(e,n){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=n.call(e,c)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(n){switch(n.label){case 0:return[4,r];case 1:return e=n.sent().localMediaStream,a.current&&(a.current.srcObject=e.current),[2,e]}}))},new((t=void 0)||(t=Promise))((function(r,i){function c(e){try{s(o.next(e))}catch(e){i(e)}}function a(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,a)}s((o=o.apply(e,n||[])).next())}))}),[]),(0,o.jsx)("video",X({ref:a,width:"100%",height:"100%",autoPlay:!0,playsInline:!0,muted:!0,className:(0,i.m)(Q.Z.Video,{},[n])},t))},q=t(5678),K=function(e){var n=e.className,t=(0,c.useState)(!1),r=(t[0],t[1],(0,c.useState)(!1));return r[0],r[1],(0,o.jsxs)("div",{className:(0,i.m)(q.Z.PreEnterVideoElement,{},[n]),children:[(0,o.jsx)(W,{className:q.Z.Video}),(0,o.jsxs)("div",{className:q.Z.btnPositions,children:[(0,o.jsx)(b,{}),(0,o.jsx)(x,{})]})]})},z=t(4120),_=function(){return _=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},_.apply(this,arguments)};!function(e){e.CLEAR="clear",e.SMALL="smallInput"}(H||(H={}));var $=function(e){var n=e.className,t=e.theme,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["className","theme"]);return(0,o.jsx)("input",_({className:(0,i.m)(z.Z.Input,{},[z.Z[t],n])},r))},ee=t(2168),ne=t(7782),te=function(e){var n,t=e.className,r=(0,N.$G)("main").t,s=(0,c.useState)(""),u=s[0],l=s[1],f=(0,c.useState)(!1),d=f[0],h=f[1],m=((0,A.s0)(),(0,v.I0)()),b=(0,v.v9)(p.I5),w=(0,v.v9)(p.Jh),y=(0,A.UO)();return(0,o.jsxs)("div",{className:(0,i.m)(ne.Z.LoginForm,{},[t]),children:[(0,o.jsx)("h1",{children:r("Welcome to Video chat web")}),(0,o.jsxs)("div",{className:ne.Z.wrap,children:[(0,o.jsx)("span",{children:r("Write here your Name")}),(0,o.jsx)($,{value:u,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Name",autoComplete:"off",theme:H.SMALL,className:(0,i.m)("",(n={},n[ne.Z.InputError]=d,n),[])}),(0,o.jsx)("div",{className:ne.Z.createOrJoin,children:(0,o.jsx)(a.z,{onClick:function(){""!==u?(h(!1),m(ee.cy.change()),C.emit("pressJoin",{roomId:y.id,userName:u,isMicro:b,isCamera:w})):h(!0)},theme:a.U.SUBMIT,className:ne.Z.btnAdditional,children:r("Join")})})]})]})},re=t(753),oe=function(e){var n=e.className;return(0,o.jsxs)("div",{className:(0,i.m)(re.Z.PreEnterMenu,{},[re.Z.center,n]),children:[(0,o.jsx)(K,{}),(0,o.jsx)(te,{})]})};const ie=function(e){var n=e.className,t=(0,c.useState)([]),r=(t[0],t[1],(0,c.useState)(!0)),i=r[0];return r[1],(0,A.UO)(),Y(),(0,v.I0)(),(0,v.v9)(ee.Ug)?(0,o.jsx)("div",{className:P.Z.Room,children:(0,o.jsxs)(J,{children:[(0,o.jsx)(F,{className:n}),(0,o.jsx)(Z,{})]})}):(0,o.jsx)("div",{children:i?(0,o.jsx)(oe,{}):(0,o.jsx)("h1",{children:"Room don't exist"})})}},8960:(e,n,t)=>{t.d(n,{Z:()=>r});const r={};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},1355:(e,n,t)=>{t.d(n,{Z:()=>r});const r={VideoCart:"guOM7uMq",img:"Ynk_v2Hf",name:"EBDW4z1H",microIcon:"VQM8H44z",HideVideo:"YJuDIsmG",video:"E_RHXoiH",spinner:"YKOWmGGj","spinner-inner-1":"oMNfj7GL","spinner-inner-2":"_uZbGP00","spinner-inner-3":"YVnBqdfe"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},5127:(e,n,t)=>{t.d(n,{Z:()=>r});const r={Room:"aPfgwxf7",SideScroll:"QuucS_lm",Panel:"cDgel03L",mainHeight:"qhZdXhs4",mainPanel:"cYTQgFye",grid:"lODu20As"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},5177:(e,n,t)=>{t.d(n,{Z:()=>r});const r={CameraButton:"IAwtRGA7",CameraButtonPressed:"OkO18t4v",iconOff:"sxRDAZOK",iconOn:"h0INCZQY"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},3908:(e,n,t)=>{t.d(n,{Z:()=>r});const r={MicrophoneButton:"j1TliD5C",MicrophoneButtonPressed:"npc2LefG",iconOff:"ak52sVzp",iconOn:"IMI5PUAs"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},4120:(e,n,t)=>{t.d(n,{Z:()=>r});const r={Input:"OLjxvu_0",smallInput:"pqbVNrEq"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},753:(e,n,t)=>{t.d(n,{Z:()=>r});const r={PreEnterMenu:"UHOBCZ2r",center:"AWMQAuJJ"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},917:(e,n,t)=>{t.d(n,{Z:()=>r});const r={SideScroll:"VB_NCXiY"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},4289:(e,n,t)=>{t.d(n,{Z:()=>r});const r={};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},9445:(e,n,t)=>{t.d(n,{Z:()=>r});const r={ButtonsPanel:"kHUqwaQa",content:"FRFGFgMW",btnScale:"skm29gHf",notify:"LNazNRiG"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},7782:(e,n,t)=>{t.d(n,{Z:()=>r});const r={LoginForm:"MF__6hrH",wrap:"ryvIbis9",btnAdditional:"u_RsXBdp",createOrJoin:"RwaLUxGG",InputError:"ZASKBWWM"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)},5678:(e,n,t)=>{t.d(n,{Z:()=>r});const r={PreEnterVideoElement:"saBc2R0m",btnPositions:"SjbByg9G"};var o=t(4783)(e.id,{locals:!0});e.hot.dispose(o)}}]);